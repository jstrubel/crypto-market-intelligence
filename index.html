<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoRisk Intelligence | Professional Market Analysis</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0c0c0f;
            --bg-secondary: #121218;
            --bg-tertiary: #1a1a24;
            --bg-glass: rgba(26, 26, 36, 0.6);
            --accent-primary: #0ea5e9;
            --accent-secondary: #8b5cf6;
            --accent-success: #10b981;
            --accent-warning: #f59e0b;
            --accent-danger: #ef4444;
            --text-primary: #ffffff;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --border-primary: rgba(255, 255, 255, 0.1);
            --border-accent: rgba(14, 165, 233, 0.3);
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
            --shadow-glow: 0 0 20px rgba(14, 165, 233, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(14, 165, 233, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(16, 185, 129, 0.03) 0%, transparent 50%);
            z-index: -1;
            animation: backgroundShift 30s ease-in-out infinite;
        }

        @keyframes backgroundShift {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(1deg); }
        }

        /* Glassmorphism effect */
        .glass {
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-primary);
        }

        /* Header */
        .header {
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-primary);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: rgba(12, 12, 15, 0.8);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .status-bar {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .status-indicator {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .status-indicator::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .status-indicator:hover::before {
            left: 100%;
        }

        .status-safe {
            background: linear-gradient(135deg, var(--accent-success), #059669);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .status-caution {
            background: linear-gradient(135deg, var(--accent-warning), #d97706);
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
        }

        .status-danger {
            background: linear-gradient(135deg, var(--accent-danger), #dc2626);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 3rem 0 4rem;
            position: relative;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--text-primary), var(--text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--bg-glass);
            border: 1px solid var(--border-accent);
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .metric-card {
            background: var(--bg-glass);
            border: 1px solid var(--border-primary);
            border-radius: 20px;
            padding: 2rem;
            position: relative;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            overflow: hidden;
            backdrop-filter: blur(20px);
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--card-accent);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-8px);
            border-color: var(--card-accent);
            box-shadow: var(--shadow-glow);
        }

        .metric-card:hover::before {
            transform: scaleX(1);
        }

        .metric-header {
            display: flex;
            justify-content: between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
        }

        .metric-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: var(--card-accent);
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
        }

        .metric-icon::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .metric-card:hover .metric-icon::after {
            left: 100%;
        }

        .metric-title {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            font-variant-numeric: tabular-nums;
        }

        .metric-status {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: var(--status-bg);
            color: var(--status-color);
            margin-bottom: 1rem;
        }

        .metric-change {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .change-positive { color: var(--accent-success); }
        .change-negative { color: var(--accent-danger); }

        /* Chart Section */
        .chart-section {
            margin-bottom: 3rem;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.875rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .chart-controls {
            display: flex;
            gap: 0.5rem;
        }

        .chart-control {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-primary);
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chart-control.active,
        .chart-control:hover {
            background: var(--accent-primary);
            color: var(--text-primary);
            border-color: var(--accent-primary);
        }

        .chart-container {
            background: var(--bg-glass);
            border: 1px solid var(--border-primary);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .chart-placeholder {
            height: 500px;
            background: var(--bg-secondary);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            position: relative;
            overflow: hidden;
        }

        .chart-placeholder::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(14, 165, 233, 0.1), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .chart-placeholder-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        /* Analysis Grid */
        .analysis-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .analysis-card {
            background: var(--bg-glass);
            border: 1px solid var(--border-primary);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(20px);
        }

        .analysis-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
        }

        .insight-item {
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            margin-bottom: 1rem;
            border-left: 3px solid var(--insight-color);
            transition: all 0.2s ease;
        }

        .insight-item:hover {
            transform: translateX(4px);
            background: var(--bg-tertiary);
        }

        .insight-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.25rem;
        }

        .insight-text {
            font-size: 0.875rem;
            color: var(--text-primary);
            font-weight: 500;
        }

        /* Alerts */
        .alert-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            margin-bottom: 0.75rem;
            transition: all 0.2s ease;
        }

        .alert-item:hover {
            background: var(--bg-tertiary);
        }

        .alert-icon {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-top: 0.25rem;
            flex-shrink: 0;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .alert-description {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 3rem 2rem;
            border-top: 1px solid var(--border-primary);
            margin-top: 4rem;
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .footer-subtitle {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        .beta-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, var(--accent-warning), #d97706);
            color: #000;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .analysis-grid {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                padding: 0 1rem;
            }
            
            .status-bar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">âš¡</div>
                CryptoRisk Intelligence
            </div>
            <div class="status-bar">
                <div class="status-indicator status-caution">
                    <span>CASCADE: CAUTION</span>
                </div>
                <div class="status-indicator status-safe">
                    <span>MACRO: BULLISH</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <h1>Professional Crypto Market Intelligence</h1>
            <p>Advanced risk detection and market analysis powered by proprietary indicators used by professional traders.</p>
            <div class="live-indicator">
                <div class="live-dot"></div>
                <span>Live Market Data</span>
            </div>
        </div>

        <!-- Key Metrics -->
        <div class="metrics-grid">
            <div class="metric-card" style="--card-accent: linear-gradient(135deg, #0ea5e9, #0284c7); --status-bg: rgba(14, 165, 233, 0.1); --status-color: #0ea5e9;">
                <div class="metric-title">Market Health</div>
                <div class="metric-value">0.40</div>
                <div class="metric-status">
                    <span>NEUTRAL</span>
                </div>
                <div class="metric-change change-negative">
                    <span>â†˜ -0.05 from yesterday</span>
                </div>
            </div>

            <div class="metric-card" style="--card-accent: linear-gradient(135deg, #ef4444, #dc2626); --status-bg: rgba(239, 68, 68, 0.1); --status-color: #ef4444;">
                <div class="metric-title">Cascade Risk Index</div>
                <div class="metric-value">59.4</div>
                <div class="metric-status">
                    <span>ELEVATED RISK</span>
                </div>
                <div class="metric-change change-positive">
                    <span>â†— +2.1 from yesterday</span>
                </div>
            </div>

            <div class="metric-card" style="--card-accent: linear-gradient(135deg, #8b5cf6, #7c3aed); --status-bg: rgba(139, 92, 246, 0.1); --status-color: #8b5cf6;">
                <div class="metric-title">Froth Detector</div>
                <div class="metric-value">48.5</div>
                <div class="metric-status">
                    <span>MODERATE</span>
                </div>
                <div class="metric-change change-negative">
                    <span>â†˜ -1.8 from yesterday</span>
                </div>
            </div>

            <div class="metric-card" style="--card-accent: linear-gradient(135deg, #10b981, #059669); --status-bg: rgba(16, 185, 129, 0.1); --status-color: #10b981;">
                <div class="metric-title">Macro MMI</div>
                <div class="metric-value">60.6</div>
                <div class="metric-status">
                    <span>BULLISH</span>
                </div>
                <div class="metric-change change-positive">
                    <span>â†— +3.2 from yesterday</span>
                </div>
            </div>
        </div>

        <!-- Chart Section -->
        <div class="chart-section">
            <div class="section-header">
                <h2 class="section-title">Live Market Analysis</h2>
                <div class="chart-controls">
                    <button class="chart-control active">1D</button>
                    <button class="chart-control">4H</button>
                    <button class="chart-control">1H</button>
                    <button class="chart-control">15M</button>
                </div>
            </div>
            <div class="chart-container">
                <div id="tradingview_chart" style="height: 500px; width: 100%;"></div>
            </div>
        </div>

        <!-- Analysis Grid -->
        <div class="analysis-grid">
            <div class="analysis-card">
                <h3 class="analysis-title">Market Intelligence Summary</h3>
                
                <div class="insight-item" style="--insight-color: #f59e0b;">
                    <div class="insight-label">Current Assessment</div>
                    <div class="insight-text">Mixed signals detected. Cascade risk elevated but macro conditions remain supportive. Recommend defensive positioning with reduced leverage.</div>
                </div>

                <div class="insight-item" style="--insight-color: #ef4444;">
                    <div class="insight-label">Critical Warning</div>
                    <div class="insight-text">Liquidity stress maxed at 100/100. Funding stress also maxed. System showing signs of structural strain.</div>
                </div>

                <div class="insight-item" style="--insight-color: #10b981;">
                    <div class="insight-label">Positive Signal</div>
                    <div class="insight-text">Excellent market breadth (1.00) indicates healthy participation across altcoins. Strong dollar weakness (-0.63 DXY correlation) provides structural support.</div>
                </div>

                <div class="insight-item" style="--insight-color: #8b5cf6;">
                    <div class="insight-label">Strategy Recommendation</div>
                    <div class="insight-text">Conservative allocation: 35% BTC, 20% quality alts, 30% cash, 15% macro hedges. Monitor cascade risk for 75+ threshold breach.</div>
                </div>
            </div>

            <div class="analysis-card">
                <h3 class="analysis-title">Active Monitoring</h3>
                
                <div class="alert-item">
                    <div class="alert-icon" style="background: #f59e0b;"></div>
                    <div class="alert-content">
                        <div class="alert-title">Cascade Risk Elevated</div>
                        <div class="alert-description">Currently 59.4 - approaching 75 warning threshold. Monitor closely for position adjustments.</div>
                    </div>
                </div>

                <div class="alert-item">
                    <div class="alert-icon" style="background: #ef4444;"></div>
                    <div class="alert-content">
                        <div class="alert-title">Liquidity Crisis Warning</div>
                        <div class="alert-description">Liquidity stress at maximum (100/100). Significant market depth deterioration detected.</div>
                    </div>
                </div>

                <div class="alert-item">
                    <div class="alert-icon" style="background: #10b981;"></div>
                    <div class="alert-content">
                        <div class="alert-title">MMI Buy Signal Active</div>
                        <div class="alert-description">Macro conditions bullish at 60.6. DCA strategy recommended for quality assets.</div>
                    </div>
                </div>

                <div class="alert-item">
                    <div class="alert-icon" style="background: #8b5cf6;"></div>
                    <div class="alert-content">
                        <div class="alert-title">Froth Cooling Down</div>
                        <div class="alert-description">Speculation levels declining from 48.5. Healthy market cooling in progress.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <h3 class="footer-title">Professional-Grade Crypto Intelligence</h3>
            <p class="footer-subtitle">Built by quantitative analysts and professional traders. Real indicators, real insights.</p>
            <div class="beta-badge">
                <span>Free Beta Access</span>
            </div>
        </div>
    </footer>

    <script src="https://s3.tradingview.com/tv.js"></script>
    <script>
        // TradingView Chart Configuration
        function initTradingViewChart() {
            new TradingView.widget({
                container_id: "tradingview_chart",
                width: "100%",
                height: "500",
                symbol: "BINANCE:BTCUSDT",
                interval: "D",
                timezone: "Etc/UTC",
                theme: "dark",
                style: "1",
                locale: "en",
                toolbar_bg: "#1a1a24",
                enable_publishing: false,
                backgroundColor: "#121218",
                gridColor: "#2a2a3e",
                hide_top_toolbar: false,
                hide_legend: false,
                save_image: false,
                container_id: "tradingview_chart",
                studies: [],
                // Clean chart - no indicators
                overrides: {
                    "paneProperties.background": "#121218",
                    "paneProperties.vertGridProperties.color": "#2a2a3e",
                    "paneProperties.horzGridProperties.color": "#2a2a3e",
                    "symbolWatermarkProperties.transparency": 90,
                    "scalesProperties.textColor": "#a1a1aa",
                    "mainSeriesProperties.candleStyle.wickUpColor": "#10b981",
                    "mainSeriesProperties.candleStyle.wickDownColor": "#ef4444",
                    "mainSeriesProperties.candleStyle.upColor": "#10b981",
                    "mainSeriesProperties.candleStyle.downColor": "#ef4444",
                    "mainSeriesProperties.candleStyle.borderUpColor": "#10b981",
                    "mainSeriesProperties.candleStyle.borderDownColor": "#ef4444"
                },
                // Remove all bottom studies/indicators
                studies_overrides: {},
                // Disable study templates
                enabled_features: ["study_templates"],
                disabled_features: [
                    "use_localstorage_for_settings",
                    "volume_force_overlay",
                    "create_volume_indicator_by_default"
                ]
            });
        }

        // Enhanced animations and interactions
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize TradingView chart
            initTradingViewChart();

            // Animate metric cards on scroll
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'slideInUp 0.6s ease forwards';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.metric-card').forEach(card => {
                observer.observe(card);
            });

            // Chart control interactions
            document.querySelectorAll('.chart-control').forEach(control => {
                control.addEventListener('click', function() {
                    document.querySelectorAll('.chart-control').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update TradingView chart timeframe
                    const timeframe = this.textContent;
                    let interval;
                    switch(timeframe) {
                        case '15M': interval = '15'; break;
                        case '1H': interval = '60'; break;
                        case '4H': interval = '240'; break;
                        case '1D': interval = 'D'; break;
                        default: interval = 'D';
                    }
                    
                    // Reinitialize chart with new interval
                    document.getElementById('tradingview_chart').innerHTML = '';
                    new TradingView.widget({
                        container_id: "tradingview_chart",
                        width: "100%",
                        height: "500",
                        symbol: "BINANCE:BTCUSDT",
                        interval: interval,
                        timezone: "Etc/UTC",
                        theme: "dark",
                        style: "1",
                        locale: "en",
                        toolbar_bg: "#1a1a24",
                        enable_publishing: false,
                        backgroundColor: "#121218",
                        gridColor: "#2a2a3e",
                        hide_top_toolbar: false,
                        hide_legend: false,
                        save_image: false,
                        studies: [],
                        overrides: {
                            "paneProperties.background": "#121218",
                            "paneProperties.vertGridProperties.color": "#2a2a3e",
                            "paneProperties.horzGridProperties.color": "#2a2a3e",
                            "symbolWatermarkProperties.transparency": 90,
                            "scalesProperties.textColor": "#a1a1aa",
                            "mainSeriesProperties.candleStyle.wickUpColor": "#10b981",
                            "mainSeriesProperties.candleStyle.wickDownColor": "#ef4444",
                            "mainSeriesProperties.candleStyle.upColor": "#10b981",
                            "mainSeriesProperties.candleStyle.downColor": "#ef4444",
                            "mainSeriesProperties.candleStyle.borderUpColor": "#10b981",
                            "mainSeriesProperties.candleStyle.borderDownColor": "#ef4444"
                        },
                        disabled_features: [
                            "use_localstorage_for_settings",
                            "volume_force_overlay",
                            "create_volume_indicator_by_default"
                        ]
                    });
                });
            });

            // Real-time data simulation
            function updateMetrics() {
                const cascadeValue = document.querySelector('.metric-card .metric-value');
                if (cascadeValue) {
                    const currentValue = parseFloat(cascadeValue.textContent);
                    const change = (Math.random() - 0.5) * 0.4;
                    const newValue = Math.max(0, Math.min(100, currentValue + change));
                    cascadeValue.textContent = newValue.toFixed(1);
                    
                    // Update status based on value
                    const statusElement = cascadeValue.parentElement.querySelector('.metric-status span');
                    if (newValue > 70) {
                        statusElement.textContent = 'HIGH RISK';
                    } else if (newValue > 50) {
                        statusElement.textContent = 'ELEVATED RISK';
                    } else {
                        statusElement.textContent = 'SAFE';
                    }
                }
            }

            // Update metrics every 30 seconds
            setInterval(updateMetrics, 30000);

            // Add hover effects to insight items
            document.querySelectorAll('.insight-item').forEach(item => {
                item.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateX(8px) scale(1.02)';
                });
                
                item.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateX(0) scale(1)';
                });
            });

            // Simulate live data updates with smooth transitions
            function simulateLiveUpdates() {
                const metrics = document.querySelectorAll('.metric-value');
                metrics.forEach((metric, index) => {
                    setTimeout(() => {
                        metric.style.transform = 'scale(1.05)';
                        metric.style.color = '#0ea5e9';
                        
                        setTimeout(() => {
                            metric.style.transform = 'scale(1)';
                            metric.style.color = 'var(--text-primary)';
                        }, 200);
                    }, index * 100);
                });
            }

            // Trigger live updates every 45 seconds
            setInterval(simulateLiveUpdates, 45000);
        });

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .metric-card {
                opacity: 0;
                transform: translateY(30px);
            }

            .metric-value {
                transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            }

            .insight-item {
                transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            }

            /* Custom scrollbar */
            ::-webkit-scrollbar {
                width: 8px;
            }

            ::-webkit-scrollbar-track {
                background: var(--bg-secondary);
            }

            ::-webkit-scrollbar-thumb {
                background: var(--accent-primary);
                border-radius: 4px;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: var(--accent-secondary);
            }

            /* Loading states */
            .loading {
                position: relative;
                overflow: hidden;
            }

            .loading::after {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
                animation: shimmer 1.5s infinite;
            }
        `;
        document.head.appendChild(style);
    </script>
// Add this script to your HTML file right before </body>
// This will give you live data immediately

class LiveCryptoDashboard {
    constructor() {
        this.isUpdating = false;
        this.lastUpdate = null;
        this.init();
    }

    async init() {
        console.log('ðŸš€ Starting live crypto dashboard...');
        await this.updateAllMetrics();
        
        // Update every 2 minutes (respects API limits)
        setInterval(() => this.updateAllMetrics(), 120000);
        
        // Update the live indicator
        this.updateLiveStatus();
        setInterval(() => this.updateLiveStatus(), 1000);
    }

    async updateAllMetrics() {
        if (this.isUpdating) return;
        this.isUpdating = true;

        try {
            console.log('ðŸ“¡ Fetching live market data...');
            
            // Get real market data
            const marketData = await this.fetchLiveData();
            
            // Calculate your indicators
            const indicators = this.calculateIndicators(marketData);
            
            // Update the dashboard
            this.updateDashboard(indicators);
            
            this.lastUpdate = new Date();
            console.log('âœ… Dashboard updated successfully');
            
        } catch (error) {
            console.error('âŒ Error updating dashboard:', error);
        } finally {
            this.isUpdating = false;
        }
    }

    async fetchLiveData() {
        // Multiple data sources for robust data
        const urls = {
            crypto: 'https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd&include_24hr_change=true&include_24hr_vol=true&include_market_cap=true',
            fearGreed: 'https://api.alternative.me/fng/',
            globalData: 'https://api.coingecko.com/api/v3/global'
        };

        try {
            const [cryptoResponse, fearGreedResponse, globalResponse] = await Promise.all([
                fetch(urls.crypto),
                fetch(urls.fearGreed),
                fetch(urls.globalData)
            ]);

            const [cryptoData, fearGreedData, globalData] = await Promise.all([
                cryptoResponse.json(),
                fearGreedResponse.json(),
                globalResponse.json()
            ]);

            return {
                btc: cryptoData.bitcoin,
                eth: cryptoData.ethereum,
                fearGreed: fearGreedData.data[0],
                global: globalData.data,
                timestamp: new Date()
            };
        } catch (error) {
            console.error('API Error:', error);
            throw error;
        }
    }

    calculateIndicators(data) {
        // Calculate Market Health (0-1 scale)
        const marketHealth = this.calculateMarketHealth(data);
        
        // Calculate Cascade Risk (0-100 scale)
        const cascadeRisk = this.calculateCascadeRisk(data);
        
        // Calculate Froth Level (0-100 scale)
        const frothLevel = this.calculateFroth(data);
        
        // Calculate Macro MMI (0-100 scale)
        const macroMMI = this.calculateMacroMMI(data);

        return { marketHealth, cascadeRisk, frothLevel, macroMMI };
    }

    calculateMarketHealth(data) {
        let score = 0.5; // Start neutral
        
        // BTC performance weight
        const btcChange = data.btc.usd_24h_change;
        if (btcChange > 3) score += 0.15;
        else if (btcChange < -3) score -= 0.15;
        
        // Fear & Greed influence
        const fearGreed = parseInt(data.fearGreed.value);
        if (fearGreed > 60) score += 0.1;
        else if (fearGreed < 30) score -= 0.1;
        
        // Market cap influence
        const marketCapChange = data.global.market_cap_change_percentage_24h_usd;
        if (marketCapChange > 2) score += 0.1;
        else if (marketCapChange < -2) score -= 0.1;
        
        // Volatility check
        if (Math.abs(btcChange) > 8) score -= 0.05; // High vol = reduced health
        
        score = Math.max(0, Math.min(1, score));
        
        return {
            value: score.toFixed(2),
            status: score > 0.65 ? 'BULLISH' : score < 0.35 ? 'BEARISH' : 'NEUTRAL',
            change: this.getStoredChange('marketHealth', score),
            raw: score
        };
    }

    calculateCascadeRisk(data) {
        let risk = 35; // Base safe level
        
        // Volatility factor
        const btcVol = Math.abs(data.btc.usd_24h_change);
        const ethVol = Math.abs(data.eth.usd_24h_change);
        const avgVol = (btcVol + ethVol) / 2;
        
        if (avgVol > 15) risk += 25;
        else if (avgVol > 10) risk += 15;
        else if (avgVol > 5) risk += 8;
        
        // Fear factor
        const fearGreed = parseInt(data.fearGreed.value);
        if (fearGreed < 15) risk += 15; // Extreme fear
        else if (fearGreed > 85) risk += 10; // Extreme greed
        
        // Volume stress
        const btcVol24h = data.btc.usd_24h_vol;
        if (btcVol24h > 40000000000) risk += 8; // Very high volume
        
        // Market correlation (simplified)
        const correlation = Math.abs(data.btc.usd_24h_change - data.eth.usd_24h_change);
        if (correlation < 2) risk += 5; // High correlation = higher cascade risk
        
        risk = Math.max(0, Math.min(100, risk));
        
        return {
            value: risk.toFixed(1),
            status: risk > 75 ? 'HIGH RISK' : risk > 60 ? 'ELEVATED RISK' : risk > 40 ? 'CAUTION' : 'SAFE',
            change: this.getStoredChange('cascadeRisk', risk),
            raw: risk
        };
    }

    calculateFroth(data) {
        let froth = 40; // Base moderate level
        
        // Price momentum
        const btcChange = data.btc.usd_24h_change;
        if (btcChange > 10) froth += 20;
        else if (btcChange > 5) froth += 10;
        else if (btcChange < -10) froth -= 15;
        
        // Volume surge
        const volume = data.btc.usd_24h_vol;
        if (volume > 50000000000) froth += 15;
        else if (volume > 35000000000) froth += 8;
        
        // Fear & greed extremes
        const fearGreed = parseInt(data.fearGreed.value);
        if (fearGreed > 75) froth += 12;
        else if (fearGreed < 25) froth -= 8;
        
        froth = Math.max(0, Math.min(100, froth));
        
        return {
            value: froth.toFixed(1),
            status: froth > 70 ? 'EXTREME' : froth > 55 ? 'HIGH' : froth > 35 ? 'MODERATE' : 'LOW',
            change: this.getStoredChange('froth', froth),
            raw: froth
        };
    }

    calculateMacroMMI(data) {
        let mmi = 50; // Base neutral
        
        // Crypto market performance
        const marketCapChange = data.global.market_cap_change_percentage_24h_usd;
        if (marketCapChange > 3) mmi += 15;
        else if (marketCapChange > 1) mmi += 8;
        else if (marketCapChange < -3) mmi -= 15;
        else if (marketCapChange < -1) mmi -= 8;
        
        // Bitcoin dominance
        const btcDominance = data.global.market_cap_percentage.btc;
        if (btcDominance < 45) mmi += 5; // Alt season
        else if (btcDominance > 55) mmi -= 5; // BTC flight to safety
        
        // Fear & greed sentiment
        const fearGreed = parseInt(data.fearGreed.value);
        if (fearGreed > 50) mmi += 8;
        else if (fearGreed < 30) mmi -= 8;
        
        mmi = Math.max(0, Math.min(100, mmi));
        
        return {
            value: mmi.toFixed(1),
            status: mmi > 65 ? 'BULLISH' : mmi < 40 ? 'BEARISH' : 'NEUTRAL',
            change: this.getStoredChange('macroMMI', mmi),
            raw: mmi
        };
    }

    getStoredChange(metric, currentValue) {
        const stored = localStorage.getItem(`crypto_dashboard_${metric}`);
        const change = stored ? currentValue - parseFloat(stored) : 0;
        localStorage.setItem(`crypto_dashboard_${metric}`, currentValue.toString());
        return change;
    }

    updateDashboard(indicators) {
        const metrics = [
            indicators.marketHealth,
            indicators.cascadeRisk,
            indicators.frothLevel,
            indicators.macroMMI
        ];

        metrics.forEach((metric, index) => {
            this.updateMetricCard(index, metric);
        });

        // Update analysis text based on real data
        this.updateAnalysisText(indicators);
    }

    updateMetricCard(index, data) {
        const cards = document.querySelectorAll('.metric-card');
        const card = cards[index];
        if (!card) return;

        // Animate value update
        const valueElement = card.querySelector('.metric-value');
        const statusElement = card.querySelector('.metric-status span');
        const changeElement = card.querySelector('.metric-change span');

        if (valueElement) {
            // Add loading animation
            valueElement.style.transform = 'scale(1.05)';
            valueElement.style.color = '#0ea5e9';
            
            setTimeout(() => {
                valueElement.textContent = data.value;
                valueElement.style.transform = 'scale(1)';
                valueElement.style.color = 'var(--text-primary)';
            }, 300);
        }

        if (statusElement) {
            statusElement.textContent = data.status;
        }

        if (changeElement) {
            const arrow = data.change >= 0 ? 'â†—' : 'â†˜';
            const sign = data.change >= 0 ? '+' : '';
            changeElement.textContent = `${arrow} ${sign}${Math.abs(data.change).toFixed(2)} from last update`;
            changeElement.parentElement.className = `metric-change ${data.change >= 0 ? 'change-positive' : 'change-negative'}`;
        }
    }

    updateAnalysisText(indicators) {
        // Update the analysis section with real insights
        const analysisItems = document.querySelectorAll('.insight-text');
        
        if (analysisItems[0]) {
            const riskLevel = indicators.cascadeRisk.raw > 60 ? 'elevated' : 'manageable';
            const healthStatus = indicators.marketHealth.raw > 0.6 ? 'supportive' : 'challenging';
            analysisItems[0].textContent = `Market showing ${riskLevel} cascade risk (${indicators.cascadeRisk.value}) with ${healthStatus} health conditions (${indicators.marketHealth.value}). Exercise appropriate caution with position sizing.`;
        }
    }

    updateLiveStatus() {
        const liveElement = document.querySelector('.live-indicator span');
        if (liveElement && this.lastUpdate) {
            const timeSince = Math.floor((new Date() - this.lastUpdate) / 1000);
            liveElement.textContent = `Live Market Data - Updated ${timeSince}s ago`;
        }
    }
}

// Initialize immediately when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
        window.liveDashboard = new LiveCryptoDashboard();
    });
} else {
    window.liveDashboard = new LiveCryptoDashboard();
}
</body>
</html>
